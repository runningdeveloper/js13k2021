import{init as n,Sprite as u,GameLoop as f,initKeys as H,keyPressed as G,Scene as O,collides as a}from"./_snowpack/pkg/kontra.js";import{menuScene as D}from"./menu.js";import{infoScene as q,changeDebug as z}from"./info.js";let{canvas:B}=n(),I="menu";H();let J=u({x:B.width/3,y:B.height/2,anchor:{x:.5,y:.5},color:"red",width:80,height:300}),K=u({x:B.width/3*2,y:B.height/2,anchor:{x:.5,y:.5},color:"blue",width:20,height:20}),L=O({id:"game",children:[J,K],update:()=>{a(K,J)&&(K.color="blue"===K.color?"white":"blue",K.dx=K.x>=J.x+J.width/2||K.x<=J.x-J.width/2?-1*K.dx:K.dx,K.dy=K.y>=J.y+J.height/2||K.y<=J.y-J.height/2?-1*K.dy:K.dy,K.velocity.length()>2?(z("Died too fast"),I="menu",K.dx=0,K.dy=0,K.x=B.width/3*2,K.y=B.height/2):K.velocity.length()<.4?z("Dock Ok"):z("Too fast")),G("left")?K.dx=K.dx-.1:G("right")&&(K.dx=K.dx+.1),G("up")?K.dy=K.dy-.1:G("down")&&(K.dy=K.dy+.1)}});f({update:()=>{"menu"!==I?L.update():G("space")&&(I="started")},render:()=>{"menu"===I?D.render():L.render(),q.render()}}).start();